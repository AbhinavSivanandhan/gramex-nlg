<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Natural Language Generation</title>
</head>

<body>
    <link rel="stylesheet" href="ui/bootstraptheme.css" /> <!-- Add bootstrap -->
    <link rel="stylesheet" href="ui/font-awesome/css/font-awesome.min.css">
    <div class="formhandler" data-src="preview"></div> <!-- Insert component here -->
    <!-- Include JS dependencies  -->
    <script src="ui/lodash/lodash.min.js"></script>
    <script src="ui/jquery/dist/jquery.min.js"></script>
    <script src="ui/popper.js/dist/umd/popper.min.js"></script>
    <script src="ui/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="ui/g1/dist/g1.min.js"></script>
    <script src="nlg.js"></script>
    <script>
        // Render the FormHandler table

        var df = null;
        var args = null;
        var templates = [];
        var currentEventHandlers = {};
        var currentEditIndex = null;
        setContextMenu();
        $('.formhandler').on('load', renderPreview);
        $('.formhandler').formhandler();
    </script>
    <form id="myform" enctype="multipart/form-data">
        <div>
            <label for="textbox">Type Something</label>:
            <div>
                <textarea id="textbox" name="textbox" style="font-family:monospace"></textarea>
            </div>
        </div>
        <p>
            <button id="inspect" type="button" title="Add to Template"
                class="btn btn-primary">
                <i class="fa fa-plus-square"></i>
            </button>
        </p>
    </form>
    <br>
    <div>
        <h6>Edit Template:</h6>
        <div contextmenu="contextmenu">
            <textarea id="edit-template" , name="templateditor" , style="font-family:monospace"></textarea>
        </div>
        <p id="edit-preview" style="font-family:monospace"></p>
            <button id="check-template" title="Run template" type="button" class="btn btn-primary">
                <i class="fa fa-play"></i>
            </button>
            <button id="save-template" title="Save Template" type="button" class="btn btn-primary">
                <i class="fa fa-save"></i>
            </button>
    </div>
    <h6>Preview Template:</h6>
    <br>
    <p id="template-preview" style="font-family:monospace"></p>
    <div>
        <button id="download-btn" type="button" title="Download Narrative" class="btn btn-primary">
            <i class="fa fa-download"></i>
        </button>
    <div>
    </div>
        <menu id="contextmenu" type="context">
        </menu>
    </div>
    <!-- Template preview -->
    <script>
        document.getElementById("download-btn").addEventListener("click", downloadNarrative);
        document.getElementById("inspect").addEventListener("click", addToNarrative);
        document.getElementById("check-template").addEventListener("click", checkTemplate);
        document.getElementById("save-template").addEventListener("click", saveTemplate);
        document.getElementById("textbox").cols = 119;
        document.getElementById("edit-template").cols = 119;
    </script>
</body>

</html>
